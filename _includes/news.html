<div class="news">
  {% if site.news != blank -%} {%- assign news_size = site.news | size -%}
  <div class="news-timeline">
    {%- assign news = site.news | reverse -%} {% if include.limit and
    site.announcements.limit %} {% assign news_limit = site.announcements.limit
    %} {% else %} {% assign news_limit = news_size %} {% endif %} {% for item in
    news limit: news_limit %}
    <div
      class="news-item {% cycle 'news-accent-1', 'news-accent-2', 'news-accent-3', 'news-accent-4', 'news-accent-5' %}"
    >
      <div class="news-date">{{ item.date | date: "%b. %Y" }}</div>
      <div class="news-content">
        {% if item.inline -%} {{ item.content | remove: '
        <p>' | remove: '</p>
        ' | emojify }} {%- else -%}
        <a class="news-title" href="{{ item.url | relative_url }}"
          >{{ item.title }}</a
        >
        {%- endif %}
      </div>
    </div>
    {%- endfor %}
  </div>
  {%- else -%}
  <p>No news so far...</p>
  {%- endif %}
</div>

<style>
  .news-timeline {
    position: relative;
    padding-left: 30px;
  }

  .news-timeline::before {
    content: "";
    position: absolute;
    left: 8px;
    top: 0;
    bottom: 0;
    width: 3px;
    background: linear-gradient(
      to bottom,
      #b3a369 0%,
      /* Deep amber */ #bd975e 25%,
      /* Dark amber */ #c78a52 50%,
      /* Deep amber */ #935d2a 75%,
      /* Very dark amber */ #784b21 100% /* Extremely dark amber */
    );
  }

  .news-item::before {
    content: "";
    position: absolute;
    left: -30.5px;
    top: 50%;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--dot-color, #b3a369);
    z-index: 2;
    box-shadow: 0 0 0 3px var(--dot-shadow-color, rgba(179, 163, 105, 0.2));
    transform: translateY(-50%);
  }

  /* Assign dot colors based on position in timeline */
  .news-item:nth-child(1) {
    --dot-color: #b3a369;
    --dot-shadow-color: rgba(179, 163, 105, 0.2);
  }
  .news-item:nth-child(2) {
    --dot-color: #bd975e;
    --dot-shadow-color: rgba(189, 151, 94, 0.2);
  }
  .news-item:nth-child(3) {
    --dot-color: #c78a52;
    --dot-shadow-color: rgba(199, 138, 82, 0.2);
  }
  .news-item:nth-child(4) {
    --dot-color: #935d2a;
    --dot-shadow-color: rgba(147, 93, 42, 0.2);
  }
  .news-item:nth-child(5) {
    --dot-color: #784b21;
    --dot-shadow-color: rgba(120, 75, 33, 0.2);
  }
  .news-item:nth-child(6) {
    --dot-color: #b45309;
    --dot-shadow-color: rgba(180, 83, 9, 0.2);
  }
  .news-item:nth-child(7) {
    --dot-color: #92400e;
    --dot-shadow-color: rgba(146, 64, 14, 0.2);
  }
  .news-item:nth-child(8) {
    --dot-color: #78350f;
    --dot-shadow-color: rgba(120, 53, 15, 0.2);
  }
  .news-item:nth-child(9) {
    --dot-color: #451a03;
    --dot-shadow-color: rgba(69, 26, 3, 0.2);
  }
  .news-item:nth-child(10) {
    --dot-color: #1c0f02;
    --dot-shadow-color: rgba(28, 15, 2, 0.2);
  }

  .news-item:hover {
    transform: translateX(5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }

  .news-item {
    position: relative;
    margin-bottom: 30px;
    padding: 18px 20px;
    border-radius: 12px;
    background: #ffffff;
    border-left: 4px solid transparent;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .news-date {
    font-size: 0.85em;
    color: var(--global-text-color-light);
    font-weight: 600;
    margin-bottom: 8px;
  }

  .news-content {
    color: var(--global-text-color);
  }

  .news-title {
    color: inherit;
    text-decoration: none;
    font-weight: 500;
  }

  .news-title:hover {
    color: var(--global-theme-color);
    text-decoration: underline;
  }
</style>
